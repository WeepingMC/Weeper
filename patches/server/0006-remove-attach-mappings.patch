From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Yannick Lamprecht <yannicklamprecht@live.de>
Date: Wed, 7 Jul 2021 20:52:30 +0200
Subject: [PATCH] remove attach mappings


diff --git a/build.gradle.kts b/build.gradle.kts
index 7a966f9a3b5ac48fcc02fe9ca69397117d32273d..1cf5b4c3470d25c964393546e0e204103aa339d4 100644
--- a/build.gradle.kts
+++ b/build.gradle.kts
@@ -112,23 +112,6 @@ publishing {
         artifact(tasks.shadowJar)
     }
 }
-
-val generateReobfMappings = rootProject.tasks.named<GenerateReobfMappings>("generateReobfMappings")
-
-val patchReobfMappings by tasks.registering<PatchMappings> {
-    inputMappings.set(generateReobfMappings.flatMap { it.reobfMappings })
-    patch.set(rootProject.layout.cache.resolve("paperweight/upstreams/paper/build-data/reobf-mappings-patch.tiny"))
-
-    fromNamespace.set(Constants.DEOBF_NAMESPACE)
-    toNamespace.set(Constants.SPIGOT_NAMESPACE)
-
-    outputMappings.set(layout.cache.resolve("paperweight/mappings/reobf-patched.tiny"))
-}
-
-tasks.reobfJar {
-    mappingsFile.set(patchReobfMappings.flatMap { it.outputMappings })
-}
-
 val generatePom = tasks.named<GenerateMavenPom>("generatePomFileForMavenPublication")
 
 tasks.shadowJar {
@@ -183,16 +166,6 @@ abstract class IncludeMappings : BaseTask() {
     }
 }
 
-val includeMappings = tasks.register<IncludeMappings>("includeMappings") {
-    inputJar.set(tasks.fixJarForReobf.flatMap { it.outputJar })
-    mappings.set(tasks.reobfJar.flatMap { it.mappingsFile })
-}
-
-tasks.reobfJar {
-    inputJar.set(includeMappings.flatMap { it.outputJar })
-}
-// Paper end - include reobf mappings in jar for stacktrace deobfuscation
-
 tasks.test {
     exclude("org/bukkit/craftbukkit/inventory/ItemStack*Test.class")
 }
