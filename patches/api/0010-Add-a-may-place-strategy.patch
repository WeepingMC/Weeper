From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Yannick Lamprecht <yannicklamprecht@live.de>
Date: Tue, 12 Oct 2021 21:44:34 +0200
Subject: [PATCH] Add a may place strategy


diff --git a/src/main/java/org/bukkit/entity/HumanEntity.java b/src/main/java/org/bukkit/entity/HumanEntity.java
index 28d1ff809e44bda0324ffac957c1d455be02e783..b4b0d216b601d817437de126759917d5f89e325e 100644
--- a/src/main/java/org/bukkit/entity/HumanEntity.java
+++ b/src/main/java/org/bukkit/entity/HumanEntity.java
@@ -2,6 +2,9 @@ package org.bukkit.entity;
 
 import java.util.Collection;
 import java.util.Set;
+import java.util.function.BiFunction;
+
+import com.google.common.base.Function;
 import org.bukkit.GameMode;
 import org.bukkit.Location;
 import org.bukkit.Material;
@@ -90,6 +93,17 @@ public interface HumanEntity extends LivingEntity, AnimalTamer, InventoryHolder
     @Nullable
     public InventoryView openInventory(@NotNull Inventory inventory);
 
+    /**
+     * Opens an inventory window with the specified inventory on the top and
+     * the player's inventory on the bottom.
+     *
+     * @param inventory The inventory to open
+     * @param mayPlaceStrategy place conditions
+     * @return The newly opened inventory view
+     */
+    @Nullable
+    InventoryView openInventory(Inventory inventory, @Nullable BiFunction<Integer, ItemStack, Boolean> mayPlaceStrategy);
+
     /**
      * Opens an empty workbench inventory window with the player's inventory
      * on the bottom.
diff --git a/src/main/java/org/bukkit/inventory/Inventory.java b/src/main/java/org/bukkit/inventory/Inventory.java
index 8f00cb2e3bc9963e9657c1b2493e8b015a6664d0..0fef85fc7b5f9f2f99be802c04f5a6d403c5a993 100644
--- a/src/main/java/org/bukkit/inventory/Inventory.java
+++ b/src/main/java/org/bukkit/inventory/Inventory.java
@@ -3,6 +3,7 @@ package org.bukkit.inventory;
 import java.util.HashMap;
 import java.util.List;
 import java.util.ListIterator;
+import java.util.function.BiFunction;
 import org.bukkit.Location;
 import org.bukkit.Material;
 import org.bukkit.entity.HumanEntity;
@@ -427,4 +428,13 @@ public interface Inventory extends Iterable<ItemStack> {
      */
     @Nullable
     public Location getLocation();
+
+    // Weeper may place strategy - start
+
+    /**
+     * Sets a mayPlace strategy
+     * @param mayPlaceStrategy
+     */
+    void setMayPlaceStrategy(@Nullable BiFunction<Integer, ItemStack, Boolean> mayPlaceStrategy);
+    // Weeper may place strategy - end
 }
