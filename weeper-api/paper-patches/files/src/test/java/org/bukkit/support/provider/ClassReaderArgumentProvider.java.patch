--- a/src/test/java/org/bukkit/support/provider/ClassReaderArgumentProvider.java
+++ b/src/test/java/org/bukkit/support/provider/ClassReaderArgumentProvider.java
@@ -1,14 +_,13 @@
 package org.bukkit.support.provider;
 
 import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileNotFoundException;
 import java.io.IOException;
 import java.io.InputStream;
+import java.lang.classfile.ClassFile;
+import java.lang.classfile.ClassModel;
 import java.net.URI;
 import java.net.URISyntaxException;
-import java.nio.file.Files;
-import java.nio.file.Path;
+import java.util.jar.JarFile;
 import java.util.stream.Stream;
 import org.bukkit.Bukkit;
 import org.bukkit.support.test.ClassReaderTest;
@@ -16,11 +_,9 @@
 import org.junit.jupiter.params.provider.Arguments;
 import org.junit.jupiter.params.provider.ArgumentsProvider;
 import org.junit.jupiter.params.support.AnnotationConsumer;
-import org.objectweb.asm.ClassReader;
 
 public class ClassReaderArgumentProvider implements ArgumentsProvider, AnnotationConsumer<ClassReaderTest> {
 
-    // Needs to be a class, which is from the bukkit package and not a CraftBukkit class
     private static final URI BUKKIT_CLASSES;
 
     static {
@@ -46,33 +_,26 @@
 
     @Override
     public Stream<? extends Arguments> provideArguments(ExtensionContext extensionContext) throws Exception {
-        return getClassReaders().map(Arguments::of);
-    }
-
-    public Stream<ClassReader> getClassReaders() {
-        return readBukkitClasses().map(this::toClassReader);
-    }
-
-    private ClassReader toClassReader(InputStream stream) {
-        try (stream) {
-            return new ClassReader(stream);
-        } catch (IOException e) {
-            throw new RuntimeException(e);
-        }
-    }
-
-    private Stream<InputStream> readBukkitClasses() {
+        return this.getClassModels().map(Arguments::of);
+    }
+
+    public Stream<ClassModel> getClassModels() {
         try {
-            return Files.walk(Path.of(BUKKIT_CLASSES))
-                    .map(Path::toFile)
-                    .filter(File::isFile)
-                    .filter(file -> file.getName().endsWith(".class"))
-                    .filter(file -> filterPackageNames(removeHomeDirectory(file)))
-                    .filter(file -> filterClass(removeHomeDirectory(file)))
-                    .map(file -> {
+            JarFile jarFile = new JarFile(new File(ClassReaderArgumentProvider.BUKKIT_CLASSES));
+            return jarFile.stream().onClose(() -> {
                         try {
-                            return new FileInputStream(file);
-                        } catch (FileNotFoundException e) {
+                            jarFile.close();
+                        } catch (IOException e) {
+                            throw new RuntimeException(e);
+                        }
+                    })
+                    .filter(entry -> entry.getName().endsWith(".class"))
+                    .filter(entry -> this.filterPackageNames(entry.getName()))
+                    .filter(entry -> this.filterClass(entry.getName()))
+                    .map(entry -> {
+                        try (InputStream is = jarFile.getInputStream(entry)) {
+                            return ClassFile.of().parse(is.readAllBytes());
+                        } catch (IOException e) {
                             throw new RuntimeException(e);
                         }
                     });
@@ -81,12 +_,8 @@
         }
     }
 
-    private String removeHomeDirectory(File file) {
-        return file.getAbsolutePath().substring(BUKKIT_CLASSES.getPath().length());
-    }
-
     private boolean filterPackageNames(String name) {
-        for (String packageName : excludedPackages) {
+        for (String packageName : this.excludedPackages) {
             if (name.startsWith(packageName)) {
                 return false;
             }
@@ -96,7 +_,7 @@
     }
 
     private boolean filterClass(String name) {
-        for (Class<?> clazz : excludedClasses) {
+        for (Class<?> clazz : this.excludedClasses) {
             if (name.equals(clazz.getName().replace('.', '/') + ".class")) {
                 return false;
             }
