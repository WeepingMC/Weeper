--- a/paper-generator/build.gradle.kts
+++ b/paper-generator/build.gradle.kts
@@ -3,10 +_,11 @@
 plugins {
     java
     id("io.papermc.paperweight.source-generator")
+    idea
 }
 
 paperweight {
-    atFile = layout.projectDirectory.file("wideners.at")
+    atFile.set(layout.projectDirectory.file("../paper-generator/wideners.at"))
 }
 
 val serverRuntimeClasspath by configurations.registering { // resolvable?
@@ -14,36 +_,53 @@
     isCanBeResolved = true
 }
 
+val generatedDir: java.nio.file.Path = layout.projectDirectory.dir("../paper-generator/src/main/java").asFile.toPath()
+idea {
+    module {
+        generatedSourceDirs.add(generatedDir.toFile())
+    }
+}
+sourceSets {
+    main {
+        java { srcDir("../paper-generator/src/main/java") }
+        resources { srcDir("../paper-generator/src/main/resources") }
+    }
+    test {
+        java { srcDir("../paper-generator/src/test/java") }
+        resources { srcDir("../paper-generator/src/test/resources") }
+    }
+}
+
 dependencies {
-    minecraftJar(project(":paper-server", "mappedJarOutgoing"))
-    implementation(project(":paper-server", "macheMinecraftLibraries"))
+    minecraftJar(project(":weeper-server", "mappedJarOutgoing"))
+    implementation(project(":weeper-server", "macheMinecraftLibraries"))
 
     implementation("com.squareup:javapoet:1.13.0")
-    implementation(project(":paper-api"))
+    implementation(project(":weeper-api"))
     implementation("io.papermc.typewriter:typewriter:1.0.1") {
         isTransitive = false // paper-api already have everything
     }
     implementation("info.picocli:picocli:4.7.7")
-    implementation("io.github.classgraph:classgraph:4.8.179")
+    implementation("io.github.classgraph:classgraph:4.8.181")
     implementation("org.jetbrains:annotations:26.0.2")
     testImplementation("org.junit.jupiter:junit-jupiter:5.12.2")
     testRuntimeOnly("org.junit.platform:junit-platform-launcher")
 
-    serverRuntimeClasspath(project(":paper-server", "runtimeConfiguration"))
+    serverRuntimeClasspath(project(":weeper-server", "runtimeConfiguration"))
 }
 
 val gameVersion = providers.gradleProperty("mcVersion")
 
 val rewriteApi = tasks.registerGenerationTask("rewriteApi", true, "api", {
-    bootstrapTags = true
-    sourceSet = rootProject.layout.projectDirectory.dir("paper-api")
+    bootstrapTags.set(true)
+    sourceSet.set(rootProject.layout.projectDirectory.dir("paper-api"))
 }) {
     description = "Rewrite existing API classes"
     classpath(sourceSets.main.map { it.runtimeClasspath })
 }
 
 val rewriteImpl = tasks.registerGenerationTask("rewriteImpl", true, "impl", {
-    sourceSet = rootProject.layout.projectDirectory.dir("paper-server")
+    sourceSet.set(rootProject.layout.projectDirectory.dir("paper-server"))
     serverClassPath.from(serverRuntimeClasspath)
 }) {
     description = "Rewrite existing implementation classes"
@@ -58,15 +_,15 @@
 
 
 val generateApi = tasks.registerGenerationTask("generateApi", false, "api", {
-    bootstrapTags = true
-    sourceSet = rootProject.layout.projectDirectory.dir("paper-api")
+    bootstrapTags.set(true)
+    sourceSet.set(rootProject.layout.projectDirectory.dir("weeper-api"))
 }) {
     description = "Generate new API classes"
     classpath(sourceSets.main.map { it.runtimeClasspath })
 }
 
 val generateImpl = tasks.registerGenerationTask("generateImpl", false, "impl", {
-    sourceSet = rootProject.layout.projectDirectory.dir("paper-server")
+    sourceSet.set(rootProject.layout.projectDirectory.dir("weeper-server"))
 }) {
     description = "Generate new implementation classes"
     classpath(sourceSets.main.map { it.runtimeClasspath })
@@ -87,16 +_,16 @@
 ): TaskProvider<JavaExec> = register<JavaExec>(name) {
     group = "generation"
     dependsOn(project.tasks.test)
-    javaLauncher = project.javaToolchains.defaultJavaLauncher(project)
+    javaLauncher.set(project.javaToolchains.defaultJavaLauncher(project))
     maxHeapSize = "2G"
     inputs.property("gameVersion", gameVersion)
     inputs.dir(layout.projectDirectory.dir("src/main/java")).withPathSensitivity(PathSensitivity.RELATIVE)
-    mainClass = "io.papermc.generator.Main"
+    mainClass.set("io.papermc.generator.Main")
     systemProperty("paper.updatingMinecraft", providers.gradleProperty("updatingMinecraft").getOrElse("false").toBoolean())
 
     val provider = objects.newInstance<GenerationArgumentProvider>()
-    provider.side = side
-    provider.rewrite = rewrite
+    provider.side.set(side)
+    provider.rewrite.set(rewrite)
     if (args != null) {
         args(provider)
     }
